{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\socce\\\\Desktop\\\\Websites\\\\Spotify Project\\\\spotify_app\\\\src\\\\js\\\\components\\\\Login.jsx\";\nimport React, { useState } from \"react\";\nimport ReactModal from 'react-modal';\nimport arrow_right from \"../../static/media/arrow.svg\";\nimport { Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport UserProfile from \"./js/components/UserProfile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AUTH_URL = \"https://accounts.spotify.com/authorize\";\nconst CLIENT_ID = \"e1fbd36d01ee46249c7043c1aa6731c0\";\nconst REDIRECT_URI = \"http://localhost:3000/callback\";\nconst SCOPES = [\"user-read-private\", \"user-read-email\"];\nconst Login = () => {\n  const handleLogin = () => {\n    const queryParams = new URLSearchParams({\n      client_id: CLIENT_ID,\n      redirect_uri: REDIRECT_URI,\n      scope: SCOPES.join(\" \"),\n      response_type: \"code\"\n    });\n    const loginUrl = `${AUTH_URL}?${queryParams}`;\n    window.location.replace(loginUrl);\n  };\n\n  // Check if the URL contains an authorization code after Spotify login\n  const code = new URLSearchParams(window.location.search).get(\"code\");\n  if (code) {\n    axios.post(\"/api/login\", {\n      code\n    }).then(response => {\n      console.log(response.data);\n    });\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/callback\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-button\",\n    onClick: handleLogin,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Login with Spotify\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: arrow_right,\n      alt: \"\",\n      className: \"arrow-right\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), accessToken ? /*#__PURE__*/_jsxDEV(UserProfile, {\n      accessToken: accessToken\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 28\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 72\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n};\n_c = Login;\nexport default Login;\n\n// function LoginButton() {\n// const [isOpen, setIsOpen] = useState(false);\n// return (\n//     <div>\n//         <div className=\"login-button\" onClick={() => setIsOpen(true)}>\n//             <p>Sign In to Spotify</p>\n//             <img src={arrow_right} alt=\"\" className=\"arrow-right\" />\n//         </div>\n//         <div>\n//             <ReactModal className=\"modal-size\" \n//                 isOpen={isOpen}\n//                 contentLabel=\"Example Modal\"\n//                 onRequestClose={() => setIsOpen(false)}\n//             >\n//                 <div className=\"modal\">\n//                     <form>\n//                         <label>Enter your name:\n//                             <input type=\"text\" />\n//                         </label>\n//                     </form>\n//                     <form>\n//                         <label>Enter your name:\n//                             <input type=\"text\" />\n//                         </label>\n//                     </form>\n//                 </div>\n//             </ReactModal>\n//         </div>\n//     </div>\n// );\n// }\n// \n// export default LoginButton;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","ReactModal","arrow_right","Redirect","axios","UserProfile","jsxDEV","_jsxDEV","AUTH_URL","CLIENT_ID","REDIRECT_URI","SCOPES","Login","handleLogin","queryParams","URLSearchParams","client_id","redirect_uri","scope","join","response_type","loginUrl","window","location","replace","code","search","get","post","then","response","console","log","data","to","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","children","src","alt","accessToken","_c","$RefreshReg$"],"sources":["C:/Users/socce/Desktop/Websites/Spotify Project/spotify_app/src/js/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ReactModal from 'react-modal';\r\nimport arrow_right from \"../../static/media/arrow.svg\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport UserProfile from \"./js/components/UserProfile\";\r\n\r\nconst AUTH_URL = \"https://accounts.spotify.com/authorize\";\r\nconst CLIENT_ID = \"e1fbd36d01ee46249c7043c1aa6731c0\";\r\nconst REDIRECT_URI = \"http://localhost:3000/callback\";\r\nconst SCOPES = [\"user-read-private\", \"user-read-email\"];\r\n\r\nconst Login = () => {\r\n    const handleLogin = () => {\r\n        const queryParams = new URLSearchParams({\r\n            client_id: CLIENT_ID,\r\n            redirect_uri: REDIRECT_URI,\r\n            scope: SCOPES.join(\" \"),\r\n            response_type: \"code\",\r\n        });\r\n\r\n        const loginUrl = `${AUTH_URL}?${queryParams}`;\r\n        window.location.replace(loginUrl);\r\n    };\r\n\r\n    // Check if the URL contains an authorization code after Spotify login\r\n    const code = new URLSearchParams(window.location.search).get(\"code\");\r\n    if (code) {\r\n        axios.post(\"/api/login\", { code }).then((response) => {\r\n        console.log(response.data);\r\n        });\r\n        return <Redirect to=\"/callback\" />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-button\" onClick={handleLogin}>\r\n            <p>Login with Spotify</p>\r\n            <img src={arrow_right} alt=\"\" className=\"arrow-right\" />\r\n            {accessToken ? <UserProfile accessToken={accessToken} /> : <div>Login</div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n\r\n// function LoginButton() {\r\n    // const [isOpen, setIsOpen] = useState(false);\r\n    // return (\r\n    //     <div>\r\n    //         <div className=\"login-button\" onClick={() => setIsOpen(true)}>\r\n    //             <p>Sign In to Spotify</p>\r\n    //             <img src={arrow_right} alt=\"\" className=\"arrow-right\" />\r\n    //         </div>\r\n    //         <div>\r\n    //             <ReactModal className=\"modal-size\" \r\n    //                 isOpen={isOpen}\r\n    //                 contentLabel=\"Example Modal\"\r\n    //                 onRequestClose={() => setIsOpen(false)}\r\n    //             >\r\n    //                 <div className=\"modal\">\r\n    //                     <form>\r\n    //                         <label>Enter your name:\r\n    //                             <input type=\"text\" />\r\n    //                         </label>\r\n    //                     </form>\r\n    //                     <form>\r\n    //                         <label>Enter your name:\r\n    //                             <input type=\"text\" />\r\n    //                         </label>\r\n    //                     </form>\r\n    //                 </div>\r\n    //             </ReactModal>\r\n    //         </div>\r\n    //     </div>\r\n    // );\r\n// }\r\n// \r\n// export default LoginButton;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAOC,WAAW,MAAM,8BAA8B;AACtD,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,6BAA6B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,MAAMC,QAAQ,GAAG,wCAAwC;AACzD,MAAMC,SAAS,GAAG,kCAAkC;AACpD,MAAMC,YAAY,GAAG,gCAAgC;AACrD,MAAMC,MAAM,GAAG,CAAC,mBAAmB,EAAE,iBAAiB,CAAC;AAEvD,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAChB,MAAMC,WAAW,GAAGA,CAAA,KAAM;IACtB,MAAMC,WAAW,GAAG,IAAIC,eAAe,CAAC;MACpCC,SAAS,EAAEP,SAAS;MACpBQ,YAAY,EAAEP,YAAY;MAC1BQ,KAAK,EAAEP,MAAM,CAACQ,IAAI,CAAC,GAAG,CAAC;MACvBC,aAAa,EAAE;IACnB,CAAC,CAAC;IAEF,MAAMC,QAAQ,GAAI,GAAEb,QAAS,IAAGM,WAAY,EAAC;IAC7CQ,MAAM,CAACC,QAAQ,CAACC,OAAO,CAACH,QAAQ,CAAC;EACrC,CAAC;;EAED;EACA,MAAMI,IAAI,GAAG,IAAIV,eAAe,CAACO,MAAM,CAACC,QAAQ,CAACG,MAAM,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC;EACpE,IAAIF,IAAI,EAAE;IACNrB,KAAK,CAACwB,IAAI,CAAC,YAAY,EAAE;MAAEH;IAAK,CAAC,CAAC,CAACI,IAAI,CAAEC,QAAQ,IAAK;MACtDC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;IAC1B,CAAC,CAAC;IACF,oBAAO1B,OAAA,CAACJ,QAAQ;MAAC+B,EAAE,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACtC;EAEA,oBACI/B,OAAA;IAAKgC,SAAS,EAAC,cAAc;IAACC,OAAO,EAAE3B,WAAY;IAAA4B,QAAA,gBAC/ClC,OAAA;MAAAkC,QAAA,EAAG;IAAkB;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACzB/B,OAAA;MAAKmC,GAAG,EAAExC,WAAY;MAACyC,GAAG,EAAC,EAAE;MAACJ,SAAS,EAAC;IAAa;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EACvDM,WAAW,gBAAGrC,OAAA,CAACF,WAAW;MAACuC,WAAW,EAAEA;IAAY;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,gBAAG/B,OAAA;MAAAkC,QAAA,EAAK;IAAK;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1E,CAAC;AAEd,CAAC;AAACO,EAAA,GA7BIjC,KAAK;AA+BX,eAAeA,KAAK;;AAEpB;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACJ;AACA;AACA;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}