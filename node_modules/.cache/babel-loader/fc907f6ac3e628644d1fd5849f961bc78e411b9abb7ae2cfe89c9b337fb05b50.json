{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\socce\\\\Desktop\\\\Websites\\\\Spotify Project\\\\spotify_app\\\\src\\\\js\\\\components\\\\Login.jsx\";\nimport React, { useState } from \"react\";\nimport ReactModal from 'react-modal';\nimport arrow_right from \"../../static/media/arrow.svg\";\nimport { Redirect } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AUTH_URL = \"https://accounts.spotify.com/authorize\";\nconst CLIENT_ID = \"YOUR_SPOTIFY_CLIENT_ID\";\nconst REDIRECT_URI = \"http://localhost:3000/callback\";\nconst SCOPES = [\"user-read-private\", \"user-read-email\"];\nfunction LoginButton() {\n  const Login = () => {\n    const handleLogin = () => {\n      const queryParams = new URLSearchParams({\n        client_id: CLIENT_ID,\n        redirect_uri: REDIRECT_URI,\n        scope: SCOPES.join(\" \"),\n        response_type: \"code\"\n      });\n      const loginUrl = `${AUTH_URL}?${queryParams}`;\n      window.location.replace(loginUrl);\n    };\n\n    // Check if the URL contains an authorization code after Spotify login\n    const code = new URLSearchParams(window.location.search).get(\"code\");\n    if (code) {\n      axios.post(\"/api/login\", {\n        code\n      }).then(response => {\n        console.log(response.data);\n      });\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/callback\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 20\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Spotify Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogin,\n        children: \"Login with Spotify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this);\n  };\n\n  // const [isOpen, setIsOpen] = useState(false);\n  // return (\n  //     <div>\n  //         <div className=\"login-button\" onClick={() => setIsOpen(true)}>\n  //             <p>Sign In to Spotify</p>\n  //             <img src={arrow_right} alt=\"\" className=\"arrow-right\" />\n  //         </div>\n  //         <div>\n  //             <ReactModal className=\"modal-size\" \n  //                 isOpen={isOpen}\n  //                 contentLabel=\"Example Modal\"\n  //                 onRequestClose={() => setIsOpen(false)}\n  //             >\n  //                 <div className=\"modal\">\n  //                     <form>\n  //                         <label>Enter your name:\n  //                             <input type=\"text\" />\n  //                         </label>\n  //                     </form>\n  //                     <form>\n  //                         <label>Enter your name:\n  //                             <input type=\"text\" />\n  //                         </label>\n  //                     </form>\n  //                 </div>\n  //             </ReactModal>\n  //         </div>\n  //     </div>\n  // );\n}\n_c = LoginButton;\nexport default LoginButton;\nvar _c;\n$RefreshReg$(_c, \"LoginButton\");","map":{"version":3,"names":["React","useState","ReactModal","arrow_right","Redirect","jsxDEV","_jsxDEV","AUTH_URL","CLIENT_ID","REDIRECT_URI","SCOPES","LoginButton","Login","handleLogin","queryParams","URLSearchParams","client_id","redirect_uri","scope","join","response_type","loginUrl","window","location","replace","code","search","get","axios","post","then","response","console","log","data","to","fileName","_jsxFileName","lineNumber","columnNumber","children","onClick","_c","$RefreshReg$"],"sources":["C:/Users/socce/Desktop/Websites/Spotify Project/spotify_app/src/js/components/Login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ReactModal from 'react-modal';\r\nimport arrow_right from \"../../static/media/arrow.svg\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst AUTH_URL = \"https://accounts.spotify.com/authorize\";\r\nconst CLIENT_ID = \"YOUR_SPOTIFY_CLIENT_ID\";\r\nconst REDIRECT_URI = \"http://localhost:3000/callback\";\r\nconst SCOPES = [\"user-read-private\", \"user-read-email\"];\r\n\r\nfunction LoginButton() {\r\n\r\n    const Login = () => {\r\n        const handleLogin = () => {\r\n            const queryParams = new URLSearchParams({\r\n                client_id: CLIENT_ID,\r\n                redirect_uri: REDIRECT_URI,\r\n                scope: SCOPES.join(\" \"),\r\n                response_type: \"code\",\r\n            });\r\n\r\n            const loginUrl = `${AUTH_URL}?${queryParams}`;\r\n            window.location.replace(loginUrl);\r\n        };\r\n    \r\n        // Check if the URL contains an authorization code after Spotify login\r\n        const code = new URLSearchParams(window.location.search).get(\"code\");\r\n        if (code) {\r\n            axios.post(\"/api/login\", { code }).then((response) => {\r\n            console.log(response.data);\r\n            });\r\n            return <Redirect to=\"/callback\" />;\r\n        }\r\n    \r\n        return (\r\n            <div>\r\n            <h1>Spotify Login</h1>\r\n            <button onClick={handleLogin}>Login with Spotify</button>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // const [isOpen, setIsOpen] = useState(false);\r\n    // return (\r\n    //     <div>\r\n    //         <div className=\"login-button\" onClick={() => setIsOpen(true)}>\r\n    //             <p>Sign In to Spotify</p>\r\n    //             <img src={arrow_right} alt=\"\" className=\"arrow-right\" />\r\n    //         </div>\r\n    //         <div>\r\n    //             <ReactModal className=\"modal-size\" \r\n    //                 isOpen={isOpen}\r\n    //                 contentLabel=\"Example Modal\"\r\n    //                 onRequestClose={() => setIsOpen(false)}\r\n    //             >\r\n    //                 <div className=\"modal\">\r\n    //                     <form>\r\n    //                         <label>Enter your name:\r\n    //                             <input type=\"text\" />\r\n    //                         </label>\r\n    //                     </form>\r\n    //                     <form>\r\n    //                         <label>Enter your name:\r\n    //                             <input type=\"text\" />\r\n    //                         </label>\r\n    //                     </form>\r\n    //                 </div>\r\n    //             </ReactModal>\r\n    //         </div>\r\n    //     </div>\r\n    // );\r\n}\r\n\r\nexport default LoginButton;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,UAAU,MAAM,aAAa;AACpC,OAAOC,WAAW,MAAM,8BAA8B;AACtD,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,QAAQ,GAAG,wCAAwC;AACzD,MAAMC,SAAS,GAAG,wBAAwB;AAC1C,MAAMC,YAAY,GAAG,gCAAgC;AACrD,MAAMC,MAAM,GAAG,CAAC,mBAAmB,EAAE,iBAAiB,CAAC;AAEvD,SAASC,WAAWA,CAAA,EAAG;EAEnB,MAAMC,KAAK,GAAGA,CAAA,KAAM;IAChB,MAAMC,WAAW,GAAGA,CAAA,KAAM;MACtB,MAAMC,WAAW,GAAG,IAAIC,eAAe,CAAC;QACpCC,SAAS,EAAER,SAAS;QACpBS,YAAY,EAAER,YAAY;QAC1BS,KAAK,EAAER,MAAM,CAACS,IAAI,CAAC,GAAG,CAAC;QACvBC,aAAa,EAAE;MACnB,CAAC,CAAC;MAEF,MAAMC,QAAQ,GAAI,GAAEd,QAAS,IAAGO,WAAY,EAAC;MAC7CQ,MAAM,CAACC,QAAQ,CAACC,OAAO,CAACH,QAAQ,CAAC;IACrC,CAAC;;IAED;IACA,MAAMI,IAAI,GAAG,IAAIV,eAAe,CAACO,MAAM,CAACC,QAAQ,CAACG,MAAM,CAAC,CAACC,GAAG,CAAC,MAAM,CAAC;IACpE,IAAIF,IAAI,EAAE;MACNG,KAAK,CAACC,IAAI,CAAC,YAAY,EAAE;QAAEJ;MAAK,CAAC,CAAC,CAACK,IAAI,CAAEC,QAAQ,IAAK;QACtDC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;MAC1B,CAAC,CAAC;MACF,oBAAO5B,OAAA,CAACF,QAAQ;QAAC+B,EAAE,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IACtC;IAEA,oBACIjC,OAAA;MAAAkC,QAAA,gBACAlC,OAAA;QAAAkC,QAAA,EAAI;MAAa;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtBjC,OAAA;QAAQmC,OAAO,EAAE5B,WAAY;QAAA2B,QAAA,EAAC;MAAkB;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC;EAEd,CAAC;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AACJ;AAACG,EAAA,GA7DQ/B,WAAW;AA+DpB,eAAeA,WAAW;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}